# 创建仓库

- 如何保证数据的唯一性？

  - 如果数据不统一，则会浪费大量的内存资源，降低运行效率
  - 如果数据不统一，就可能会出现不统一的数据，难以维护。

- 某个组件改动数据后，如何让其用到该数据的组件知道数据变化了。
  - 事件总线貌似可以解决该问题，但需要在组件中手动的维护监听，极其不方便，而且事件总线的目的在于**通知**，而不是*共享数据*。

## 一种比较容易想到的方案，就是把所有的共享数据**全部**提升到根组件，然后通过组件属性不断下发，当某个组件需要修改数据时，又不断向上抛出事件，直到根组件完成对数据的修改。

这种方案的缺陷也非常明显：

1. 需要编写大量的代码层层下发数据，很多组件被迫拥有了自己根本不需要的数据。
2. 需要编写大量的代码层层上抛事件，很多组件被迫注册了自己根本处理不了的事件。

基于上面的问题，我们可以简单的设置一个**独立的数据仓库**。

- 组件需要什么数据，可以自由的从仓库中获取，需要什么拿什么。
- 组件可以自由改变仓库中的数据，仓库的数据变化后，会自动通知用到对应数据的组件更新。

要实现这一切，可以选择 vuex。

# 创建仓库

# 数据变更

**提交 mutation 是数据改变的唯一原因**

commit

# 异步处理

actions:{}
传一个`ctx`
